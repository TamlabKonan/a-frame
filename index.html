<!DOCTYPE html>
<html>
	<head>
		<title>Grab object</title>
		<script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
		<!--A-frame読み込み-->
		<script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
		<!--カメラ移動用-->
     <script src="https://unpkg.com/super-hands@^3.0.1/dist/super-hands.min.js"></script>
	</head>


	<body>
		<!-- HTML goes here -->
		<a-scene>
			<!-- コントローラのモデル読み込み -->
			<a-asset-item id="ctl_obj"
				src="oculus-touch-controller-right.obj">
			</a-asset-item> 
			<a-asset-item id="ctl_mtl"
				src="oculus-touch-controller-right.mtl">
			</a-asset-item>
			<a-assets>
				<!--HMDはモデルをオンラインで読み込むので，URLを書く-->
				<a-asset-item id="gundum"
					src= "gundum.glb"></a-asset-item>
			</a-assets>

			<!-- カメラとコントローラ -->
			<a-entity id="rig" movement-controls="fly: true"> <!-- fly: trueで縦方向にも移動できるはずなのですが．．斜めだとなんとなく上下移動できます．．-->
				<a-entity camera 
                  look-controls="pointerLockEnabled: true"
        ></a-entity>
      
				<a-entity id="ctl" laser-controls="hand: right" obj-model="obj: #ctl_obj; mtl: #ctl_mtl"></a-entity> <!--とりあえず右手分描画-->
       <a-entity sphere-collider="objects: a-box" super-hands hand-controls="hand: right"></a-entity>
      </a-entity>

     
      
			<a-entity position="0 0 0">
				<a-box hoverable grabbable stretchable draggable dropppable
               position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9" shadow></a-box>
				<a-sky color="#DDDDDD"></a-sky>

				<a-entity id="gun" gltf-model="#gundum" 
                  position="0 2 -7" 
                  scale="5 5 5" 
                  shadow = "true"
                 animation__pos1="property: position;
                 from: 0 2 -7;
                 dur: 10000;
                 to: 0 -2 -7;
                 autoplay: true"
                 animation__pos2="property: position;
                 from: 5 2 -7;
                 to: 5 2 -2;
                 dur: 10000;
                 startEvents: animationcomplete__pos3"
                 animation__pos3="property: position;
                 from: 0 -2 -7;
                 to: 5 2 -7;
                 dur: 10000;
                 startEvents: animationcomplete__pos1">
				</a-entity>
				<a-sky> color="#ECECEC" </a-sky>
				<!--空（背景の色）-->

				<a-plane position="0 -5 -4" rotation="-90 0 0" width="40" height="40" color="#EFFD5E" shadow></a-plane>
			</a-entity>
		</a-scene>

	</body>
</html>
